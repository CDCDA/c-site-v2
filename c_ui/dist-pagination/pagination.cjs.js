"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),a=(e,a)=>{const t=e.__vccOpts||e;for(const[l,i]of a)t[l]=i;return t},t={name:"Pagination",props:{page:{type:Number,default:1},total:{type:Number,default:0},pageSize:{type:Number,default:10},onPageChange:{type:Function,default:()=>{}},onPageSizeChange:{type:Function,default:()=>{}},showSizes:{type:Boolean,default:!1},pageSizeList:{type:Array,default:[10,20]}},data:()=>({pages:0,slices:[[1]],showPageList:!1}),watch:{page(){this.updateSlices()},total(){this.updateSlices()},pageSize(){this.updateSlices()}},mounted(){this.updateSlices()},methods:{arialLabel:e=>-1===e?"上一页":0===e?"下一页":`第${e}页`,updateSlices(){const e=this.pages=Math.ceil(this.total/this.pageSize);e<5?this.slices=[Array(e).fill(1).map(((e,a)=>a+1))]:this.page<4?this.slices=[[1,2,3],[-1,4],[e]]:e-this.page<3?this.slices=[[1],[-1,2],[e-2,e-1,e]]:this.slices=[[1],[-1,2],[this.page-1,this.page,this.page+1],[-1,this.page+2],[e]]},onSize(e){this.$emit("update:pageSize",e),this.$emit("update:page",1),this.onPageChange(),this.showPageList=!1},onPage(e){let a=e.target;if("SPAN"===a.tagName&&(a=a.parentElement),-1!==a.className.indexOf("disabled")||"LI"!==a.tagName)return;const t=+a.getAttribute("data-page");a.getAttribute("data-jumper")?(this.$emit("update:page",t),this.onPageChange(t)):(this.$emit("update:page",this.calcNextPage(t)),this.onPageChange(this.calcNextPage(t)))},calcNextPage(e){return e?e<0?this.page-1:e:this.page+1},showJumper(e,a){if(e&&e>0&&e<=this.pages){const t=[...this.slices];t[e][2]=1,this.slices=t,((e,a=0)=>{let t=setTimeout((()=>{e(),clearInterval(t)}),a)})((()=>{a.children[1].focus()}),100)}},onJump(e){const a=+e.target.value;a&&a>0&&a<=this.pages&&this.onPageChange(a)},onBlur(e){const a=+e.target.parentNode.getAttribute("data-jumper"),t=[...this.slices];t[a][2]=0,this.slices=t}}},l={class:"c-pagination"},i=["aria-disabled","arial-label"],s={class:"pagi-number",style:{display:"flex","align-items":"center","margin-right":"30px"}},o={style:{display:"flex","align-items":"center"}},n=["data-page","data-jumper","arial-label"],r=["data-page","arial-label"],c={key:0,class:"page-size"},p={key:0,class:"select-box"},g=["onClick"],d=["aria-disabled","arial-label"];const m=a(t,[["render",function(a,t,m,u,h,b){const k=e.resolveComponent("ArrowLeftBold"),N=e.resolveComponent("el-icon"),y=e.resolveComponent("svg-icon"),S=e.resolveComponent("ArrowRightBold");return e.openBlock(),e.createElementBlock("div",l,[e.createElementVNode("ul",{class:"pager clear",onClick:t[1]||(t[1]=(...e)=>b.onPage&&b.onPage(...e))},[e.createElementVNode("li",{class:e.normalizeClass([{disabled:m.page<=1},"pn prev"]),"aria-disabled":m.page<=1,"arial-label":b.arialLabel(-1),tabindex:"0","data-page":"-1",role:"button"},[e.createVNode(N,null,{default:e.withCtx((()=>[e.createVNode(k)])),_:1})],10,i),e.createElementVNode("div",s,[e.createElementVNode("div",o,[e.createVNode(y,{iconName:"commonSvg-总共",style:{height:"25px",width:"25px"}}),e.createElementVNode("span",null,e.toDisplayString(m.total)+"条",1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.slices,((a,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[-1===a[0]?(e.openBlock(),e.createElementBlock("li",{key:"g"+l,"data-page":a[1],"data-jumper":l,"arial-label":b.arialLabel(a[1]),class:"pn jumper"},t[2]||(t[2]=[e.createElementVNode("span",{class:"dots"},"...",-1)]),8,n)):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(a,(a=>(e.openBlock(),e.createElementBlock("li",{key:"l"+a,class:e.normalizeClass([{active:m.page===a},"pn"]),"data-page":a,"arial-label":b.arialLabel(a),role:"button"},[e.createElementVNode("span",null,e.toDisplayString(a),1)],10,r)))),128))],64)))),256)),m.showSizes?(e.openBlock(),e.createElementBlock("div",c,[e.createElementVNode("div",{class:"page-select",onClick:t[0]||(t[0]=e=>h.showPageList=!h.showPageList)},[e.createTextVNode(e.toDisplayString(m.pageSize)+"条/页 ",1),h.showPageList?(e.openBlock(),e.createElementBlock("div",p,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.pageSizeList,((a,t)=>(e.openBlock(),e.createElementBlock("div",{key:t,class:"seleclt-opotion",onClick:e.withModifiers((e=>b.onSize(a)),["stop"])},e.toDisplayString(a),9,g)))),128))])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)]),e.createElementVNode("li",{class:e.normalizeClass([{disabled:m.page>=h.pages},"pn next"]),"aria-disabled":m.page>=h.pages,"arial-label":b.arialLabel(0),tabindex:"0","data-page":"0",role:"button"},[e.createVNode(N,null,{default:e.withCtx((()=>[e.createVNode(S)])),_:1})],10,d)])])}],["__scopeId","data-v-f40d8cb7"]]),u=e=>{e.component("Pagination",m)},h={install:u,Pagination:m},b=m;exports.Pagination=b,exports.default=h,exports.install=u;
